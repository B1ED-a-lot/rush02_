# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: seu_login <seu_login@student.42.fr>        +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2026/01/30 00:00:00 by seu_login         #+#    #+#              #
#    Updated: 2026/01/30 00:00:00 by seu_login        ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

# ============================================================================ #
#                                 RUSH-02                                      #
# ============================================================================ #
#
# üìã REGRAS OBRIGAT√ìRIAS:
#    - all     : Compila o programa (regra padr√£o)
#    - clean   : Remove arquivos objeto (.o)
#    - fclean  : Remove .o E o execut√°vel
#    - re      : fclean + all (recompila tudo)
#
# üîß FLAGS DE COMPILA√á√ÉO:
#    -Wall    : Ativa todos os warnings comuns
#    -Wextra  : Ativa warnings extras
#    -Werror  : Trata warnings como erros (n√£o compila se houver warning!)
#
# üí° DICA: Durante desenvolvimento, comente -Werror para ver warnings sem parar
#          Mas NUNCA entregue sem -Werror!
#
# ============================================================================ #

# Nome do execut√°vel
NAME		= rush-02

# Compilador e flags
CC			= cc
CFLAGS		= -Wall -Wextra -Werror

# Diret√≥rios
SRCS_DIR	= srcs
INCL_DIR	= includes

# Arquivos fonte (IMPORTANTE: Liste TODOS explicitamente, n√£o use *.c)
SRCS		= $(SRCS_DIR)/main.c \
			  $(SRCS_DIR)/ft_dict_parsing.c \
			  $(SRCS_DIR)/ft_dict_utils.c \
			  $(SRCS_DIR)/ft_number_converter.c \
			  $(SRCS_DIR)/ft_utils.c

# Arquivos objeto (substitui .c por .o)
OBJS		= $(SRCS:.c=.o)

# ============================================================================ #
#                                  REGRAS                                      #
# ============================================================================ #

# Regra padr√£o (executada com 'make' ou 'make all')
all: $(NAME)

# Regra para criar o execut√°vel
# $@ = nome do alvo (rush-02)
# $^ = todas as depend√™ncias (os .o)
$(NAME): $(OBJS)
	$(CC) $(CFLAGS) -o $@ $^
	@echo "‚úÖ Compila√ß√£o conclu√≠da: $(NAME)"

# Regra padr√£o para compilar .c em .o
# $< = primeira depend√™ncia (o arquivo .c)
# $@ = nome do alvo (o arquivo .o)
# -I$(INCL_DIR) = adiciona includes/ ao caminho de busca de headers
%.o: %.c
	$(CC) $(CFLAGS) -I$(INCL_DIR) -c $< -o $@

# Remove arquivos objeto
clean:
	rm -f $(OBJS)
	@echo "üßπ Arquivos objeto removidos"

# Remove objetos E execut√°vel
fclean: clean
	rm -f $(NAME)
	@echo "üßπ Execut√°vel removido"

# Recompila tudo do zero
re: fclean all

# Declara que estas regras n√£o s√£o arquivos
.PHONY: all clean fclean re

# ============================================================================ #
#                              DICAS DE USO                                    #
# ============================================================================ #
#
# make          ‚Üí Compila o programa
# make clean    ‚Üí Remove arquivos .o
# make fclean   ‚Üí Remove .o e rush-02
# make re       ‚Üí Recompila tudo do zero
#
# üß™ TESTE R√ÅPIDO AP√ìS COMPILAR:
#    ./rush-02 42
#    ./rush-02 data/numbers.dict 42
#
# ============================================================================ #
